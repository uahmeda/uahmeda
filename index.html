<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–£ –ê—Ö–º–µ–¥–∞</title>
    <link rel="icon" type="image/png" href="img/img/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ========== –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù ========== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loading-gif {
            width: 200px;
            height: 200px;
            object-fit: contain;
        }

        /* ========== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --main-color: #fccd97;
            --dark-color: #5c3d1e;
            --light-color: #fff9f0;
            --text-color: #333;
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            --handwritten-font: 'Caveat', cursive;
        }

        body {
            background-color: #fefefe;
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 70px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ - —Å –±–æ–ª—å—à–∏–º –ª–æ–≥–æ—Ç–∏–ø–æ–º */
header {
    background-color: var(--main-color);
    padding: 15px 0;
    box-shadow: var(--shadow);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 20px;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
}

.logo-image {
    height: 80px;
    width: auto;
    background-color: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    flex-shrink: 0;
}

.logo-image img {
    height: 100%;
    width: auto;
    max-width: 100%;
    object-fit: contain;
    display: block;
    border-radius: 10px;
}

.logo-text {
    display: block;
    flex-grow: 1;
}

.logo-text h1 {
    font-size: 1.8rem;
    color: var(--dark-color);
    line-height: 1.2;
    margin-bottom: 5px;
}

.logo-text p {
    font-size: 1rem;
    color: var(--text-color);
    font-style: italic;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
    .logo-image {
        height: 60px;
    }
    .logo-text h1 {
        font-size: 1.4rem;
    }
    .logo-text p {
        font-size: 0.9rem;
    }
}

@media (max-width: 480px) {
    .logo {
        gap: 10px;
    }
    .logo-image {
        height: 50px;
    }
    .logo-text h1 {
        font-size: 1.1rem;
    }
    .logo-text p {
        font-size: 0.8rem;
    }
}

        /* ========== –°–¢–ò–õ–ò –§–û–†–ú ========== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
            font-size: 1rem;
        }

        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: white;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--main-color);
            box-shadow: 0 0 0 4px rgba(252, 205, 151, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .submit-btn, .submit-order, .order-btn {
            background-color: var(--dark-color);
            color: white;
            border: none;
            padding: 16px 28px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            box-shadow: 0 4px 12px rgba(92, 61, 30, 0.2);
        }

        .submit-btn:hover, .submit-order:hover, .order-btn:hover:not(:disabled) {
            background-color: #7a4f29;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(92, 61, 30, 0.3);
        }

        .submit-btn:active, .submit-order:active, .order-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .order-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            box-shadow: none;
            opacity: 0.6;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ */
        .delivery-options {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .delivery-option {
            flex: 1;
        }

        .delivery-option input[type="radio"] {
            display: none;
        }

        .delivery-option label {
            display: block;
            padding: 14px 12px;
            background-color: #f8f8f8;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .delivery-option input[type="radio"]:checked + label {
            background-color: var(--main-color);
            border-color: var(--dark-color);
            color: var(--dark-color);
            box-shadow: 0 4px 10px rgba(252, 205, 151, 0.3);
        }

        .delivery-address-group {
            display: none;
            animation: slideDown 0.3s ease;
        }

        .delivery-address-group.visible {
            display: block;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ö–Ω–æ–ø–∫–∞-–∫–∞—Ä—Ç–æ—á–∫–∞ –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã (–ë–ï–ó –ß–ï–ö–ë–û–ö–°–ê) */
        .bonus-card-button {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 18px;
            background-color: #f8f8f8;
            border-radius: 16px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0 10px;
        }

        .bonus-card-button:hover {
            background-color: #f0f0f0;
            border-color: var(--main-color);
            transform: translateY(-2px);
        }

        .bonus-card-button.active {
            background-color: var(--main-color);
            border-color: var(--dark-color);
            box-shadow: 0 4px 12px rgba(252, 205, 151, 0.4);
        }

        .bonus-card-image {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 10px;
        }

        .bonus-card-text {
            flex-grow: 1;
        }

        .bonus-card-text h4 {
            color: var(--dark-color);
            margin-bottom: 5px;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .bonus-card-text p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }

        /* –ß–µ–∫–±–æ–∫—Å —Å–∫—Ä—ã—Ç */
        .bonus-card-checkbox {
            display: none;
        }

        .bonus-balance-info {
            font-size: 0.95rem;
            color: var(--dark-color);
            margin: 10px 0 5px 75px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .bonus-warning {
            font-size: 0.9rem;
            color: #d32f2f;
            margin-left: 75px;
            background-color: #ffebee;
            padding: 8px 15px;
            border-radius: 30px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        /* ========== –°–¢–†–ê–ù–ò–¶–´ (VIEWS) ========== */
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .page.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0.5; }
            to { opacity: 1; }
        }

        /* ========== –ù–ò–ñ–ù–ï–ï –ù–ê–í–ò–ì–ê–¶–ò–û–ù–ù–û–ï –ú–ï–ù–Æ ========== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0 12px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            border-top: 1px solid #eee;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: none;
            border: none;
            font-size: 0.8rem;
            color: #888;
            cursor: pointer;
            transition: color 0.2s ease;
            padding: 5px 12px;
            border-radius: 8px;
            flex: 1;
            max-width: 80px;
            position: relative;
        }

        .nav-item i {
            font-size: 1.5rem;
            margin-bottom: 3px;
        }

        .nav-item.active {
            color: var(--dark-color);
            font-weight: 600;
        }

        .nav-item .cart-count-badge {
            position: absolute;
            top: 0px;
            right: 15px;
            background-color: var(--dark-color);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* ========== –ö–ê–†–£–°–ï–õ–¨ ========== */
        .banner-carousel {
            width: 100%;
            position: relative;
            overflow: hidden;
            background-color: white;
            height: 50vh;
            min-height: 300px;
            max-height: 500px;
            margin: 0 0 40px 0;
        }
        .carousel-container { width: 100%; height: 100%; position: relative; display: flex; overflow: hidden; }
        .carousel-track { display: flex; height: 100%; transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .carousel-slide { min-width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .carousel-slide img { width: 100%; height: 100%; object-fit: contain; display: block; cursor: pointer; }

        /* ========== –ö–û–ù–¢–ï–ù–¢–ù–´–ï –ë–õ–û–ö–ò ========== */
        .about-section, .features-section, .reviews-section, .menu-header, .contact-section {
            margin-bottom: 40px;
        }
        .about-section {
            background-color: var(--main-color);
            padding: 40px 30px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        .about-section h2 {
            color: var(--dark-color);
            margin-bottom: 20px;
            text-align: center;
            font-size: 2.5rem;
            font-family: var(--handwritten-font);
            font-weight: 700;
        }
        .about-section p {
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        .features-section h2 {
            color: var(--dark-color);
            margin-bottom: 30px;
            text-align: center;
            font-size: 2.5rem;
            font-family: var(--handwritten-font);
            font-weight: 700;
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }
        .feature-card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
            text-align: center;
        }
        .feature-icon { font-size: 2.5rem; color: var(--dark-color); margin-bottom: 15px; }
        .reviews-section h2 {
            color: var(--dark-color);
            margin-bottom: 30px;
            text-align: center;
            font-size: 2.5rem;
            font-family: var(--handwritten-font);
            font-weight: 700;
        }
        .reviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        .review-card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
        }
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .review-name { font-weight: 700; color: var(--dark-color); font-size: 1.1rem; }
        .review-rating { color: #ffc107; font-size: 1.1rem; }
        .bad-review { border: 2px solid #ff6b6b; background-color: #fff5f5; }

        /* ========== –ú–ï–ù–Æ ========== */
        .menu-header {
            text-align: center;
        }
        .menu-header h2 {
            color: var(--dark-color);
            font-size: 3rem;
            margin-bottom: 15px;
            font-family: var(--handwritten-font);
            font-weight: 700;
        }
        .categories {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .category-btn {
            background-color: white;
            border: 2px solid var(--main-color);
            color: var(--dark-color);
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .category-btn:hover { background-color: var(--main-color); }
        .category-btn.active { background-color: var(--main-color); transform: scale(1.05); }
        .menu-section { display: none; animation: fadeIn 0.5s ease; }
        .menu-section.active { display: block; }
        .section-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--dark-color);
            font-size: 2.2rem;
            font-family: var(--handwritten-font);
            font-weight: 700;
        }
        .section-title:after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background-color: var(--main-color);
            margin: 10px auto;
        }
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        .menu-item {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .menu-item:hover { transform: translateY(-5px); }
        .item-image {
            height: 200px;
            overflow: hidden;
            background-color: var(--main-color);
        }
        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        .menu-item:hover .item-image img { transform: scale(1.05); }
        .item-info { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .item-name { font-size: 1.3rem; font-weight: 700; margin-bottom: 10px; color: var(--dark-color); }
        .item-description { color: #666; margin-bottom: 15px; font-size: 0.95rem; flex-grow: 1; }
        .item-footer { display: flex; justify-content: space-between; align-items: center; margin-top: auto; }
        .item-price { font-size: 1.3rem; font-weight: 700; color: var(--dark-color); }
        .add-to-cart {
            background-color: var(--main-color);
            color: var(--dark-color);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .add-to-cart:hover { background-color: #f5bf7d; transform: translateY(-2px); }

        /* ========== –°–¢–†–ê–ù–ò–¶–ê –ö–û–†–ó–ò–ù–´ ========== */
        .cart-page-content { 
            padding: 20px; 
        }
        .cart-page-items { 
            padding: 10px 0; 
        }
        .cart-page-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background-color: #f9f9f9;
            border-radius: 12px;
            border: 1px solid #eee;
        }
        .cart-page-item:hover {
            background-color: #f5f5f5;
        }
        .cart-page-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            border-top: 2px solid var(--main-color);
            border-bottom: 2px solid var(--main-color);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color);
            background-color: #fff9f0;
            border-radius: 12px;
        }
        .empty-cart-message {
            text-align: center;
            padding: 50px 20px;
            color: #666;
            font-size: 1.2rem;
            background-color: #f9f9f9;
            border-radius: 16px;
            margin: 20px 0;
        }

        /* ========== –û–ö–ù–û "–ï–©–Å" ========== */
        .more-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .more-overlay.active { opacity: 1; visibility: visible; }
        .more-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 90vh;
            max-height: 90vh;
            background-color: white;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 -5px 25px rgba(0, 0, 0, 0.2);
            z-index: 2001;
            transform: translateY(100%);
            transition: transform 0.4s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .more-panel.active { transform: translateY(0); }
        .more-header {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--main-color);
            border-bottom: 2px solid var(--dark-color);
            min-height: 65px;
        }
        .more-back-btn {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--dark-color);
            padding: 5px 10px 5px 5px;
            margin-right: 10px;
            display: none;
        }
        .more-back-btn.visible { display: inline-block; }
        .more-header h2 {
            color: var(--dark-color);
            font-size: 2rem;
            font-family: var(--handwritten-font);
            font-weight: 700;
            margin: 0;
            flex-grow: 1;
        }
        .close-more {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--dark-color);
            padding: 5px;
            line-height: 1;
        }
        .more-content { 
            flex: 1; 
            overflow-y: auto; 
            padding: 20px; 
        }

        /* –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –æ–∫–Ω–∞ "–ï—â—ë" */
        .more-main-menu { display: block; }
        .more-main-menu.hidden { display: none; }
        .more-menu-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 12px;
        }
        .more-menu-item:hover { 
            background-color: var(--main-color);
            transform: translateX(5px);
        }
        .more-menu-item i { font-size: 1.8rem; color: var(--dark-color); width: 40px; text-align: center; }
        .more-menu-item span { font-size: 1.3rem; font-weight: 600; color: var(--dark-color); }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ "–ï—â—ë" */
        .more-content-panel { display: none; }
        .more-content-panel.active { display: block; }

        /* –ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤–Ω—É—Ç—Ä–∏ "–ï—â—ë" */
        .bonus-image-container { text-align: center; margin: 20px 0; }
        .bonus-image { width: 200px; height: 200px; object-fit: contain; border-radius: 10px; margin: 0 auto; display: block; }
        .bonus-balance-container {
            position: relative;
            background-color: var(--main-color);
            padding: 25px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 25px;
            margin-top: 20px;
            overflow: hidden;
            min-height: 160px;
        }
        .bonus-balance-container .ahmedik-img {
            position: absolute;
            width: 40px;
            height: 40px;
            object-fit: contain;
            z-index: 1;
            opacity: 0.7;
        }
        .bonus-balance { position: relative; z-index: 2; }
        .bonus-card-number {
            font-size: 0.95rem;
            color: var(--dark-color);
            margin-bottom: 10px;
            font-weight: 600;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 6px 15px;
            border-radius: 30px;
            display: inline-block;
        }
        .bonus-balance h3 { color: var(--dark-color); margin-bottom: 5px; font-family: var(--handwritten-font); font-size: 1.5rem; }
        .bonus-balance-value { font-size: 2rem; font-weight: 700; color: var(--dark-color); display: flex; align-items: center; justify-content: center; gap: 5px; }
        .bonus-currency { font-size: 1rem; color: #666; }
        .bonus-description { text-align: center; margin-bottom: 25px; font-size: 1rem; line-height: 1.5; color: #555; }
        .bonus-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--main-color);
            padding-bottom: 15px;
        }
        .bonus-tab {
            flex: 1;
            text-align: center;
            padding: 12px;
            background-color: #f5f5f5;
            border-radius: 30px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--dark-color);
        }
        .bonus-tab.active {
            background-color: var(--main-color);
            border-color: var(--dark-color);
        }
        .bonus-tab-content {
            display: none;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .bonus-tab-content.active { display: block; }
        .bonus-form {
            background-color: #f9f9f9;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
        }
        .bonus-form.hidden { display: none; }

        /* –ó–∞–∫–∞–∑—ã –≤–Ω—É—Ç—Ä–∏ "–ï—â—ë" */
        .orders-container { padding: 10px 0; }
        .order-card {
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
            border: 1px solid #f0f0f0;
        }
        .order-card.completed { background-color: #f9f9f9; opacity: 0.9; }
        .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .order-number { font-weight: 700; color: var(--dark-color); font-size: 1.1rem; }
        .order-date { color: #666; font-size: 0.85rem; }
        .order-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        .status-ordered { background-color: #fff3cd; color: #856404; }
        .status-cooking { background-color: #d1ecf1; color: #0c5460; }
        .status-delivery { background-color: #d4edda; color: #155724; }
        .status-ready { background-color: #cce5ff; color: #004085; }
        .status-completed { background-color: #e2e3e5; color: #383d41; }
        .order-items { margin-bottom: 10px; }
        .order-item { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.95rem; }
        .order-footer { display: flex; justify-content: space-between; align-items: center; padding-top: 10px; border-top: 1px solid #eee; }
        .order-total { font-size: 1.1rem; font-weight: 700; color: var(--dark-color); }
        .qr-code-container.show { text-align: center; margin-top: 15px; }
        .qr-code-image { width: 120px; height: 120px; object-fit: contain; border-radius: 10px; }
        
        /* ========== –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –ö–ù–û–ü–ö–ê –û–¶–ï–ù–ö–ò ========== */
        .received-btn {
            background: linear-gradient(135deg, var(--dark-color) 0%, #7a4f29 100%);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1rem;
            margin-top: 20px;
            width: 100%;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 6px 15px rgba(92, 61, 30, 0.3);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .received-btn:hover {
            background: linear-gradient(135deg, #7a4f29 0%, #5c3d1e 100%);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 25px rgba(92, 61, 30, 0.4);
            border-color: var(--main-color);
        }
        
        .received-btn:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 3px 10px rgba(92, 61, 30, 0.3);
        }
        
        .received-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .received-btn:hover::before {
            left: 100%;
        }
        
        .delete-order-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            margin-top: 15px;
            width: 100%;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 10px rgba(255, 71, 87, 0.3);
        }
        
        .delete-order-btn:hover {
            background: linear-gradient(135deg, #ff4757 0%, #ff6b6b 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(255, 71, 87, 0.4);
        }

        /* –û–±—ä—è–≤–ª–µ–Ω–∏—è */
        .announcement-card {
            background-color: var(--main-color);
            border-radius: 16px;
            padding: 25px;
            box-shadow: var(--shadow);
            border: 2px solid var(--dark-color);
            margin-bottom: 20px;
            position: relative;
            transition: transform 0.3s ease;
        }
        .announcement-card:hover {
            transform: translateY(-5px);
        }
        .announcement-card.pinned { 
            border: 3px solid #ffd700; 
            background: linear-gradient(135deg, #fff9e6, #fff2cc);
        }
        .pinned-icon {
            position: absolute;
            top: -10px;
            left: 20px;
            background-color: #ffd700;
            color: var(--dark-color);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(45deg);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .announcement-title {
            font-size: 1.5rem;
            color: var(--dark-color);
            font-family: var(--handwritten-font);
            font-weight: 700;
            margin-bottom: 10px;
        }
        .announcement-text { 
            font-size: 1.1rem; 
            line-height: 1.5; 
        }
        .announcement-text a {
            color: var(--dark-color);
            font-weight: 700;
            text-decoration: none;
            border-bottom: 2px solid var(--dark-color);
        }
        .announcement-text a:hover {
            color: #7a4f29;
            border-bottom-color: #7a4f29;
        }
        .announcement-date { 
            margin-top: 15px; 
            text-align: right; 
            font-style: italic; 
            color: #666; 
            font-size: 0.9rem;
        }

        /* –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–Ø–Ω–¥–µ–∫—Å –§–æ—Ä–º–∞) */
        .feedback-container {
            padding: 15px 0;
            display: flex;
            justify-content: center;
            background-color: #f9f9f9;
            border-radius: 16px;
            min-height: 500px;
        }
        .ya-form-frame {
            width: 100%;
            max-width: 650px;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ü–µ–Ω–∫–∏ */
        .rating-modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex; align-items: center; justify-content: center;
            z-index: 3000; opacity: 0; visibility: hidden; transition: all 0.3s ease;
        }
        .rating-modal-overlay.active { opacity: 1; visibility: visible; }
        .rating-modal {
            background-color: white; width: 90%; max-width: 400px; border-radius: 20px; padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); transform: translateY(-20px); transition: transform 0.3s ease;
        }
        .rating-modal-overlay.active .rating-modal { transform: translateY(0); }
        .rating-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .rating-modal-title { font-size: 1.8rem; color: var(--dark-color); font-family: var(--handwritten-font); font-weight: 700; }
        .close-rating-modal { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666; }
        .rating-stars { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; }
        .rating-star { font-size: 2.5rem; color: #ddd; cursor: pointer; transition: all 0.3s ease; }
        .rating-star:hover, .rating-star.active { color: #ffc107; transform: scale(1.1); }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .cart-notification {
            position: fixed; top: 20px; right: 20px; background-color: var(--dark-color); color: white;
            padding: 15px 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 2500; display: flex; align-items: center; gap: 12px;
            transform: translateX(120%); transition: transform 0.4s ease; max-width: 350px;
        }
        .cart-notification.show { transform: translateX(0); }
        .notification-icon { font-size: 1.5rem; color: var(--main-color); }

        /* –ö–Ω–æ–ø–∫–∞ –Ω–∞–≤–µ—Ä—Ö */
        .scroll-to-top {
            position: fixed; bottom: 80px; right: 20px; width: 50px; height: 50px;
            background-color: var(--dark-color); color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 1.5rem;
            cursor: pointer; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease; z-index: 1500; opacity: 0; visibility: hidden;
        }
        .scroll-to-top.visible { opacity: 1; visibility: visible; }
        .scroll-to-top:hover { transform: translateY(-5px) scale(1.1); }

        /* –§—É—Ç–µ—Ä */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 30px 0 20px;
            text-align: center;
            margin-top: 40px;
        }
        .footer-logo-container { margin-bottom: 15px; }
        .footer-logo { height: 70px; width: 70px; border-radius: 50%; overflow: hidden; margin: 0 auto 10px; }
        .footer-logo img { width: 100%; height: 100%; object-fit: cover; }
        .itd-button { display: inline-block; width: 45px; height: 45px; border-radius: 50%; background-color: white; margin: 10px; overflow: hidden; transition: all 0.3s ease; }
        .itd-button:hover { transform: scale(1.1) rotate(5deg); }
        .itd-button img { width: 100%; height: 100%; object-fit: contain; padding: 8px; }
        .footer-disclaimer { margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2); font-size: 0.85rem; }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            body { padding-bottom: 65px; }
            .logo-text { display: none; }
            .logo-image { height: 50px; width: 50px; }
            .banner-carousel { height: 40vh; min-height: 250px; }
            .about-section h2, .features-section h2, .reviews-section h2 { font-size: 2rem; }
            .menu-header h2 { font-size: 2.2rem; }
            .more-panel { height: 85vh; }
            .delivery-options { flex-direction: column; gap: 10px; }
            .bonus-balance-info { margin-left: 0; }
            .bonus-warning { margin-left: 0; }
            .cart-page-content { padding: 15px; }
            .cart-page-item { padding: 12px; }
        }
        @media (max-width: 480px) {
            .banner-carousel { height: 35vh; min-height: 200px; }
            .about-section, .contact-section { padding: 20px; }
            .features-grid, .reviews-grid, .menu-grid { grid-template-columns: 1fr; }
            .bonus-card-button { flex-direction: column; text-align: center; }
            .bonus-card-text h4 { font-size: 1rem; }
            .cart-page-total { font-size: 1.2rem; padding: 15px; }
        }
    </style>
</head>
<body>
    <!-- –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù -->
    <div class="loading-screen" id="loadingScreen">
        <img src="img/img/loading.gif" alt="–ó–∞–≥—Ä—É–∑–∫–∞" class="loading-gif">
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –û–¶–ï–ù–ö–ò -->
    <div class="rating-modal-overlay" id="ratingModalOverlay">
        <div class="rating-modal">
            <div class="rating-modal-header">
                <h3 class="rating-modal-title">–û—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ</h3>
                <button class="close-rating-modal" id="closeRatingModal">&times;</button>
            </div>
            <div class="rating-modal-content">
                <p style="text-align: center; margin-bottom: 20px;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–∞:</p>
                <div class="rating-stars">
                    <div class="rating-star" data-rating="1">‚òÖ</div>
                    <div class="rating-star" data-rating="2">‚òÖ</div>
                    <div class="rating-star" data-rating="3">‚òÖ</div>
                    <div class="rating-star" data-rating="4">‚òÖ</div>
                    <div class="rating-star" data-rating="5">‚òÖ</div>
                </div>
                <input type="hidden" id="selectedRating" value="0">
                <input type="hidden" id="ratingOrderId" value="">
                <button class="received-btn" id="submitRating" style="margin-top: 10px;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</button>
            </div>
        </div>
    </div>

    <!-- –í–°–ü–õ–´–í–ê–Æ–©–ï–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï -->
    <div class="cart-notification" id="cartNotification">
        <div class="notification-icon"><i class="fas fa-check-circle"></i></div>
        <div class="notification-content">
            <h4>–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É</h4>
            <p id="notificationMessage"></p>
        </div>
    </div>

    <!-- –ö–ù–û–ü–ö–ê "–ù–ê–í–ï–†–•" -->
    <div class="scroll-to-top" id="scrollToTop"><i class="fas fa-chevron-up"></i></div>

    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-image">
                        <img src="img/img/logo-big.png" alt="–õ–æ–≥–æ—Ç–∏–ø">
                    </div>
                    <div class="logo-text">
                        <h1>–®–∞—à–ª—ã—á–Ω–∞—è "–£ –ê—Ö–º–µ–¥–∞"</h1>
                        <p>–û—Ç–∫—Ä–æ–π –¥–ª—è —Å–µ–±—è –º–∏—Ä –ø—Ä–æ—Ç—É—Ö—à–µ–≥–æ —à–∞—à–ª—ã–∫–∞</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ - –°–¢–†–ê–ù–ò–¶–´ -->
    <main>
        <!-- –°–¢–†–ê–ù–ò–¶–ê –ì–õ–ê–í–ù–ê–Ø -->
        <div id="home-page" class="page active">
            <section class="banner-carousel">
                <div class="carousel-container" id="carouselContainer">
                    <div class="carousel-track" id="carouselTrack">
                        <div class="carousel-slide"><img src="img/img/banner1.png" alt="–ë–∞–Ω–Ω–µ—Ä 1"></div>
                        <div class="carousel-slide"><img src="img/img/banner2.png" alt="–ë–∞–Ω–Ω–µ—Ä 2"></div>
                        <div class="carousel-slide"><img src="img/img/banner3.png" alt="–ë–∞–Ω–Ω–µ—Ä 3"></div>
                    </div>
                </div>
            </section>

            <div class="container">
                <section class="about-section">
                    <h2>–û –Ω–∞—à–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏</h2>
                    <p>–°—Ä—É—Ö–∞–ª–∞–Ω—Ü—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –Ω–∞—à—É —à–∞—à–ª—ã—á–Ω—É—é, —á—Ç–æ–±—ã –Ω–∞—Å–ª–∞–¥–∏—Ç—å—Å—è –≤–∫—É—Å–æ–º –Ω–∞—à–µ–≥–æ –∞—Ä–æ–º–∞—Ç–Ω–æ–≥–æ —à–∞—à–ª—ã–∫–∞, –∞ —É—é—Ç –∑–∞–≤–µ–¥–µ–Ω–∏—è –Ω–µ –¥–∞–µ—Ç –∏–º –ø–æ–∫–∏–Ω—É—Ç—å –µ–≥–æ. –£ –Ω–∞—Å —Å–∞–º—ã–π –ª—É—á—à–∏–π —à–∞—à–ª—ã–∫ –ø–æ –º–Ω–µ–Ω–∏—é –≥—É–±–µ—Ä–Ω–∞—Ç–æ—Ä–∞ –°—Ä—É—Ö–∞–ª–∞–Ω—Å–∫–∞ –ü–∏—Ö–æ—Ä—è –ü–∏–∂–æ–Ω–æ–≤–∞. –ö–ª–∏–µ–Ω—Ç—ã –µ—â–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∏ —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω—ã —à–∞—à–ª—ã—á–Ω–æ–π ¬´–£ –ê—Ö–º–µ–¥–∞!¬ª</p>
                </section>

                <section class="features-section">
                    <h2>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å?</h2>
                    <div class="features-grid">
                        <div class="feature-card"><div class="feature-icon"><i class="fas fa-skull-crossbones"></i></div><h3>–£–±–æ–≥–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –Ω–æ –≤–∫—É—Å–Ω—ã–µ –±–ª—é–¥–∞</h3><p>–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –Ω–µ –≥–ª–∞–≤–Ω–æ–µ, –≥–ª–∞–≤–Ω–æ–µ - —ç—Ç–æ –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º—ã–π –≤–∫—É—Å!</p></div>
                        <div class="feature-card"><div class="feature-icon"><i class="fas fa-user-graduate"></i></div><h3>–ù–µ–æ–ø—ã—Ç–Ω—ã–µ –ø–æ–≤–∞—Ä–∞</h3><p>–ù–∞—à–∏ –ø–æ–≤–∞—Ä–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É—é—Ç, —á—Ç–æ–±—ã —É–¥–∏–≤–∏—Ç—å –≤–∞—Å!</p></div>
                        <div class="feature-card"><div class="feature-icon"><i class="fas fa-hourglass-half"></i></div><h3>–î–æ–ª–≥–∞—è –≥–æ—Ç–æ–≤–∫–∞ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞</h3><p>–ú—ã –Ω–µ —Ç–æ—Ä–æ–ø–∏–º—Å—è, —á—Ç–æ–±—ã –≤—Å—ë –±—ã–ª–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–æ</p></div>
                        <div class="feature-card"><div class="feature-icon"><i class="fas fa-rocket"></i></div><h3>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω—ã</h3><p>–ó–∞ –∫–∞—á–µ—Å—Ç–≤–æ —Ç–∞–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ!</p></div>
                    </div>
                </section>

                <section class="reviews-section">
                    <h2>–û—Ç–∑—ã–≤—ã</h2>
                    <div class="reviews-grid">
                        <div class="review-card"><div class="review-header"><div class="review-name">–¢—É–º–∞–Ω–æ–≤–∞ –ï–ª–µ–Ω–∞</div><div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div><div class="review-text">–õ—É—á—à–∏–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –≤—Å–µ–≥–¥–∞ —Å—é–¥–∞ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏ –∑–∞—Ö–æ–∂—É, –∞ –æ–Ω–∏ —Ç–∞—é—Ç –æ—Ç –∑–∞–ø–∞—Ö–∞.</div></div>
                        <div class="review-card"><div class="review-header"><div class="review-name">–ü–µ—Ä–¥–∞—Ç–æ –°–µ–Ω—å–æ—Ä–∏—Ç–∞</div><div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div><div class="review-text">–†–∞–Ω—å—à–µ –¥—É–º–∞–ª–∞ —á—Ç–æ –≤ —ç—Ç–æ–º –°—Ä—É—Ö–∞–ª–∞–Ω—Å–∫–µ –≤—Å–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã –æ—Ç—Å—Ç–æ–π–Ω—ã–µ, –Ω–æ –ø–æ–º–µ–Ω—è–ª–∞ —Å–≤–æ–µ –º–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–µ–ª–∞ –∑–¥–µ—Å—å! –õ—É—á—à–µ —á–µ–º —É –º–µ–Ω—è –Ω–∞ —Ä–æ–¥–∏–Ω–µ!</div></div>
                        <div class="review-card"><div class="review-header"><div class="review-name">–ê—Ö–º–µ–¥–æ–≤ –ê–±–¥—É–ª–ª–∞</div><div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div><div class="review-text">–ë—Ä–∞—Ç—å—è –º–∞–ª–∞–¥—Ü—ã, –Ω–∏–∫–æ–≥–¥–∞ –º–∏–º–æ –Ω–µ –ø—Ä–æ–µ–∑–∂–∞—é, –≤—Å–µ –Ω–µ–≤–µ—Ä–∞—è—Ç–Ω–∞ –≤–∫—É—Å–Ω–∞.</div></div>
                        <div class="review-card"><div class="review-header"><div class="review-name">–ú–∏–Ω–æ–≤–∞ –ê–º–∏–Ω–∞</div><div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div><div class="review-text">–°–∞–π—Ç –ø—Ä–æ—Å—Ç–æ —Å—É–ø–µ—Ä! –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞. –ö–∞—á–µ—Å—Ç–≤–æ —Ç–æ–ø. –û—Ç—Ä–∞–≤–∏–ª–∞—Å—å –∑–∞ —Å–µ–∫—É–Ω–¥—É! –í—Å–µ –¥–æ–≤–æ–ª—å–Ω—ã —Ö–æ—á—É –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–∞–¥—å–±—É –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "Love–£—à–∫–ê"</div></div>
                        <div class="review-card"><div class="review-header"><div class="review-name">–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤–∞ –ê–π–≥—É–ª—å</div><div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div></div><div class="review-text">—à–∞—à–ª—ã–∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π, –¥–∞–ª–∏ —Å –ø–ª–µ—Å–µ–Ω—å—éüòä</div></div>
                        <div class="review-card bad-review"><div class="review-header"><div class="review-name">–ö–æ–Ω–æ–ø–ª—ë–≤–∞ –ñ–∞–Ω–Ω–∞</div><div class="review-rating">‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ</div></div><div class="review-text">–£–∂–∞—Å, –∫–∞–∫ –±—É–¥—Ç–æ –Ω–∞–≤–æ–∑ —Å–æ–∂—Ä–∞–ª–∞, –≤ —Ç—É–∞–ª–µ—Ç–µ –≤—Å–µ –≤—ã—Ä–∞–≥–∞–ª–∞ —Ç–∞–∫ –µ—â—ë –∏ –≤ —É–≥–ª—É –Ω–∞—à–ª–∞ —Ç–æ–Ω—É —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤.</div></div>
                    </div>
                </section>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ú–ï–ù–Æ -->
        <div id="menu-page" class="page">
            <div class="container">
                <section class="menu-header">
                    <h2>–ú–µ–Ω—é</h2>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –Ω–∞—à–∏–º–∏ –ª—É—á—à–∏–º–∏ –±–ª—é–¥–∞–º–∏</p>
                </section>

                <div class="categories">
                    <button class="category-btn active" data-category="shashlik">–®–∞—à–ª—ã–∫</button>
                    <button class="category-btn" data-category="asia">–°–æ—á–Ω–∞—è –∞–∑–∏—è</button>
                    <button class="category-btn" data-category="sauces">–°–æ—É—Å—ã</button>
                    <button class="category-btn" data-category="drinks">–ù–∞–ø–∏—Ç–∫–∏</button>
                </div>

                <section id="shashlik" class="menu-section active"><h2 class="section-title">–®–∞—à–ª—ã–∫</h2><div class="menu-grid" id="shashlikGrid"></div></section>
                <section id="asia" class="menu-section"><h2 class="section-title">–°–æ—á–Ω–∞—è –∞–∑–∏—è</h2><div class="menu-grid" id="asiaGrid"></div></section>
                <section id="sauces" class="menu-section"><h2 class="section-title">–°–æ—É—Å—ã</h2><div class="menu-grid" id="saucesGrid"></div></section>
                <section id="drinks" class="menu-section"><h2 class="section-title">–ù–∞–ø–∏—Ç–∫–∏</h2><div class="menu-grid" id="drinksGrid"></div></section>
            </div>
        </div>

        <!-- –°–¢–†–ê–ù–ò–¶–ê –ö–û–†–ó–ò–ù–ê -->
        <div id="cart-page" class="page">
            <div class="container cart-page-content">
                <h2 class="section-title">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
                <div class="cart-page-items" id="cartPageItems">
                    <p class="empty-cart-message">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
                </div>
                <div class="cart-page-total">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span id="cartPageTotal">0 ‚ÇΩ</span>
                </div>
                <button class="order-btn" id="cartPageOrderBtn" disabled>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
            </div>
        </div>
    </main>

    <!-- –í–´–ï–ó–ñ–ê–Æ–©–ï–ï –û–ö–ù–û "–ï–©–Å" -->
    <div class="more-overlay" id="moreOverlay"></div>
    <div class="more-panel" id="morePanel">
        <div class="more-header">
            <button class="more-back-btn" id="moreBackBtn"><i class="fas fa-arrow-left"></i></button>
            <h2 id="morePanelTitle">–ï—â—ë</h2>
            <button class="close-more" id="closeMore">&times;</button>
        </div>
        <div class="more-content" id="moreContent">
            <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
            <div class="more-main-menu" id="moreMainMenu">
                <div class="more-menu-item" id="moreOrdersBtn"><i class="fas fa-clock"></i><span>–ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞–∫–∞–∑—ã</span></div>
                <div class="more-menu-item" id="moreBonusBtn"><i class="fas fa-percent"></i><span>–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞</span></div>
                <div class="more-menu-item" id="moreAnnouncementBtn"><i class="fas fa-bullhorn"></i><span>–û–±—ä—è–≤–ª–µ–Ω–∏—è</span></div>
                <div class="more-menu-item" id="moreFeedbackBtn"><i class="fas fa-envelope"></i><span>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</span></div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ë–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã -->
            <div class="more-content-panel" id="moreBonusPanel">
                <div class="bonus-image-container">
                    <img src="img/img/bonus.png" alt="–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞" class="bonus-image" id="bonusImage">
                </div>
                <div class="bonus-description">–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞ "–£ –ê—Ö–º–µ–¥–∞" –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –∂—Ä–∞—Ç—å –µ—â–µ –≤—ã–≥–æ–¥–Ω–µ–µ! –û–ø–ª–∞—á–∏–≤–∞–π—Ç–µ —á–∞—Å—Ç—å –ø–æ–∫—É–ø–∫–∏ —Å –ø–æ–º–æ—â—å—é –∞—Ö–º–µ–¥–∏–∫–æ–≤ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –Ω–µ–∏–º–æ–≤–µ—Ä–Ω—ã–µ —Å–∫–∏–¥–∫–∏</div>
                <div class="bonus-balance-container" id="bonusBalanceContainer"></div>
                <div class="bonus-tabs">
                    <div class="bonus-tab active" data-tab="get">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å</div>
                    <div class="bonus-tab" data-tab="spend">–ö–∞–∫ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å</div>
                </div>
                <div class="bonus-tab-content active" id="getTab">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ä—Ç—É –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ 2-4 –∞—Ö–º–µ–¥–∏–∫–∞</div>
                <div class="bonus-tab-content" id="spendTab">–° –ø–æ–º–æ—â—å—é –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ –æ–ø–ª–∞—Ç–∏—Ç–µ 0,0000001% –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –∑–∞–∫–∞–∑–∞</div>
                <div class="bonus-form" id="bonusForm">
                    <h3 style="color: var(--dark-color); margin-bottom: 15px; text-align: center;">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É</h3>
                    <form id="activateBonusForm">
                        <div class="form-group"><label for="bonusFullName">–§–ò–û –¥–µ—Ä–∂–∞—Ç–µ–ª—è</label><input type="text" id="bonusFullName" class="form-control" required></div>
                        <div class="form-group"><label for="bonusEmail">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</label><input type="email" id="bonusEmail" class="form-control" required></div>
                        <div class="form-group"><label for="bonusCardNumber">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (8 —Ü–∏—Ñ—Ä)</label><input type="text" id="bonusCardNumber" class="form-control" pattern="[0-9]{8}" maxlength="8" placeholder="12345678" required></div>
                        <button type="submit" class="submit-btn">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É</button>
                    </form>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ó–∞–∫–∞–∑–æ–≤ -->
            <div class="more-content-panel" id="moreOrdersPanel">
                <div class="orders-container" id="ordersContainer"></div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –û–±—ä—è–≤–ª–µ–Ω–∏–π (—Å –Ω–æ–≤—ã–º –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º) -->
            <div class="more-content-panel" id="moreAnnouncementPanel">
                <div class="announcement-card pinned">
                    <div class="pinned-icon"><i class="fas fa-thumbtack"></i></div>
                    <div class="announcement-title">–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à –ò–¢–î –∫–∞–Ω–∞–ª</div>
                    <div class="announcement-text"><a href="https://–∏—Ç–¥.com/uahmeda52" target="_blank">–∏—Ç–¥.com/uahmeda52</a></div>
                </div>
                <!-- –ù–û–í–û–ï –û–ë–™–Ø–í–õ–ï–ù–ò–ï –æ—Ç 21 —Ñ–µ–≤—Ä–∞–ª—è -->
                <div class="announcement-card">
                    <div class="announcement-title">–ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç 21 —Ñ–µ–≤—Ä–∞–ª—è</div>
                    <div class="announcement-text">–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–∏–∑–∞–π–Ω –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</div>
                    <div class="announcement-date">21.02.2026</div>
                </div>
                <div class="announcement-card">
                    <div class="announcement-title">–ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç 18.02.2026</div>
                    <div class="announcement-text">–î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–µ—Å—è –º–µ–Ω—é, –≤–∫–ª–∞–¥–∫–∞ ¬´–û–±—ä—è–≤–ª–µ–Ω–∏—è¬ª</div>
                    <div class="announcement-date">18 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.</div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–Ø–Ω–¥–µ–∫—Å –§–æ—Ä–º–∞) -->
            <div class="more-content-panel" id="moreFeedbackPanel">
                <h2 class="section-title">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
                <div class="feedback-container">
                    <iframe src="https://forms.yandex.ru/u/6998a2c71f1eb5cd701980cf?iframe=1" 
                            frameborder="0" 
                            name="ya-form-6998a2c71f1eb5cd701980cf" 
                            width="100%" 
                            height="600px"
                            class="ya-form-frame"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- –ù–ò–ñ–ù–ï–ï –ù–ê–í–ò–ì–ê–¶–ò–û–ù–ù–û–ï –ú–ï–ù–Æ -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-page="home"><i class="fas fa-home"></i><span>–ì–ª–∞–≤–Ω–∞—è</span></button>
        <button class="nav-item" data-page="menu"><i class="fas fa-book"></i><span>–ú–µ–Ω—é</span></button>
        <button class="nav-item" data-page="cart" id="navCartBtn">
            <i class="fas fa-shopping-cart"></i>
            <span>–ö–æ—Ä–∑–∏–Ω–∞</span>
            <span class="cart-count-badge" id="navCartCount">0</span>
        </button>
        <button class="nav-item" data-page="more" id="navMoreBtn"><i class="fas fa-ellipsis-h"></i><span>–ï—â—ë</span></button>
    </nav>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
    <div class="modal-overlay" id="orderModal" style="position: fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index:4000; opacity:0; visibility:hidden; transition:all 0.3s ease;">
        <div class="modal" style="background-color:white; width:90%; max-width:500px; border-radius:20px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.2);">
            <div class="modal-header" style="display:flex; justify-content:space-between; align-items:center; margin-bottom:25px;">
                <h3 class="modal-title" style="font-size:1.8rem; color:var(--dark-color); font-family:var(--handwritten-font);">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
                <button class="close-modal" id="closeModal" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
            </div>
            <div class="modal-content">
                <form id="orderForm">
                    <div class="form-group"><label for="customerName">–í–∞—à–µ –∏–º—è</label><input type="text" id="customerName" class="form-control" required></div>
                    <div class="form-group"><label for="customerEmail">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</label><input type="email" id="customerEmail" class="form-control" required></div>
                    
                    <div class="delivery-options">
                        <div class="delivery-option"><input type="radio" id="pickup" name="deliveryType" value="pickup" checked><label for="pickup">–ó–∞–±—Ä–∞—Ç—å –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ</label></div>
                        <div class="delivery-option"><input type="radio" id="delivery" name="deliveryType" value="delivery"><label for="delivery">–î–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ –∞–¥—Ä–µ—Å—É</label></div>
                    </div>
                    
                    <div class="form-group delivery-address-group" id="deliveryAddressGroup">
                        <label for="customerAddress">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
                        <input type="text" id="customerAddress" class="form-control">
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞-–∫–∞—Ä—Ç–æ—á–∫–∞ –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã (–ë–ï–ó –ß–ï–ö–ë–û–ö–°–ê) -->
                    <div class="bonus-card-button" id="bonusCardButton">
                        <img src="img/img/bonus-card.png" alt="–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞" class="bonus-card-image">
                        <div class="bonus-card-text">
                            <h4>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–Ω—É—Å–Ω—É—é –∫–∞—Ä—Ç—É</h4>
                            <p>–°–∫–∏–¥–∫–∞ 1 —Ä—É–±–ª—å + –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ 2-4 –∞—Ö–º–µ–¥–∏–∫–æ–≤</p>
                        </div>
                        <!-- –ß–µ–∫–±–æ–∫—Å —Å–∫—Ä—ã—Ç, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è –ª–æ–≥–∏–∫–∏ -->
                        <input type="checkbox" class="bonus-card-checkbox" id="useBonusCardInOrder" style="display: none;">
                    </div>
                    
                    <div class="bonus-balance-info" id="bonusBalanceInfo">
                        <i class="fas fa-wallet"></i> –ë–∞–ª–∞–Ω—Å: <span id="bonusBalanceDisplay">0</span> –∞—Ö–º–µ–¥–∏–∫–æ–≤
                    </div>
                    
                    <div class="bonus-warning" id="bonusWarning" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i> –ë–æ–Ω—É—Å–Ω—É—é –∫–∞—Ä—Ç—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∑–∞–∫–∞–∑–∞—Ö –æ—Ç 500 —Ä—É–±–ª–µ–π
                    </div>

                    <button type="submit" class="submit-order">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </form>
                
                <div class="order-success" id="orderSuccess" style="display: none; text-align:center;">
                    <i class="fas fa-check-circle" style="font-size:4rem; color:#4caf50; margin-bottom:20px;"></i>
                    <h3 style="color:var(--dark-color); margin-bottom:15px; font-family:var(--handwritten-font);">–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h3>
                    <p>–ù–æ–º–µ—Ä –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞: <strong id="orderNumber">AHM-001</strong></p>
                    <p id="bonusEarnedInfo" style="display: none;">–í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ: <strong id="bonusEarned">0</strong> –∞—Ö–º–µ–¥–∏–∫–æ–≤</p>
                    <p id="bonusSpentInfo" style="display: none;">–°–ø–∏—Å–∞–Ω–æ —Å –∫–∞—Ä—Ç—ã: <strong id="bonusSpent">0</strong> –∞—Ö–º–µ–¥–∏–∫–æ–≤</p>
                </div>
            </div>
        </div>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo-container">
                    <div class="footer-logo"><img src="img/img/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø"></div>
                    <p style="font-size: 1.2rem;">–®–∞—à–ª—ã—á–Ω–∞—è "–£ –ê—Ö–º–µ–¥–∞"</p>
                </div>
                <div class="footer-info">
                    <p>–≥. –°—Ä—É—Ö–∞–ª–∞–Ω—Å–∫, —É–ª. –ù–∞—Ö–∞–ª–æ–≤–∞ 32</p>
                    <p>–ï–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 10:00 –¥–æ 23:00</p>
                    <p class="footer-email">uahmeda52@list.ru</p>
                </div>
                <a href="https://–∏—Ç–¥.com/uahmeda52" target="_blank" class="itd-button"><img src="img/img/itd-logo.png" alt="–ò–¢–î"></a>
                <div class="footer-disclaimer">–°–∞–π—Ç —è–≤–ª—è–µ—Ç—Å—è —à—É—Ç–æ—á–Ω—ã–º –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–º –≤ —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö. –ú—ã –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∏–∫–∞–∫–∏—Ö —É—Å–ª—É–≥, –∞ –ø–æ–∫—É–ø–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã.</div>
            </div>
        </div>
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –Ø–Ω–¥–µ–∫—Å –§–æ—Ä–º—ã -->
    <script src="https://forms.yandex.ru/_static/embed.js"></script>
    
    <script>
        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let currentPage = 'home';
        let cart = [];
        let orders = [];
        let orderNumber = 1;
        let userId = localStorage.getItem('ahmedUserId') || 'user_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('ahmedUserId', userId);
        let bonusCard = null;

        // ========== DOM –≠–õ–ï–ú–ï–ù–¢–´ ==========
        const loadingScreen = document.getElementById('loadingScreen');
        const pages = document.querySelectorAll('.page');
        const navItems = document.querySelectorAll('.nav-item');
        const navCartCount = document.getElementById('navCartCount');
        const cartPageItems = document.getElementById('cartPageItems');
        const cartPageTotal = document.getElementById('cartPageTotal');
        const cartPageOrderBtn = document.getElementById('cartPageOrderBtn');
        const orderModal = document.getElementById('orderModal');
        const closeModal = document.getElementById('closeModal');
        const orderForm = document.getElementById('orderForm');
        const orderSuccess = document.getElementById('orderSuccess');
        const orderNumberElement = document.getElementById('orderNumber');
        const deliveryTypeRadios = document.querySelectorAll('input[name="deliveryType"]');
        const deliveryAddressGroup = document.getElementById('deliveryAddressGroup');
        const deliveryAddressInput = document.getElementById('customerAddress');
        const cartNotification = document.getElementById('cartNotification');
        const notificationMessage = document.getElementById('notificationMessage');
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –æ–∫–Ω–∞ "–ï—â—ë"
        const moreOverlay = document.getElementById('moreOverlay');
        const morePanel = document.getElementById('morePanel');
        const closeMore = document.getElementById('closeMore');
        const moreBackBtn = document.getElementById('moreBackBtn');
        const morePanelTitle = document.getElementById('morePanelTitle');
        const moreMainMenu = document.getElementById('moreMainMenu');
        const moreBonusPanel = document.getElementById('moreBonusPanel');
        const moreOrdersPanel = document.getElementById('moreOrdersPanel');
        const moreAnnouncementPanel = document.getElementById('moreAnnouncementPanel');
        const moreFeedbackPanel = document.getElementById('moreFeedbackPanel');
        const moreOrdersBtn = document.getElementById('moreOrdersBtn');
        const moreBonusBtn = document.getElementById('moreBonusBtn');
        const moreAnnouncementBtn = document.getElementById('moreAnnouncementBtn');
        const moreFeedbackBtn = document.getElementById('moreFeedbackBtn');

        // –≠–ª–µ–º–µ–Ω—Ç—ã –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã
        const bonusBalanceContainer = document.getElementById('bonusBalanceContainer');
        const bonusForm = document.getElementById('bonusForm');
        const activateBonusForm = document.getElementById('activateBonusForm');
        const bonusCardNumberInput = document.getElementById('bonusCardNumber');
        const bonusImage = document.getElementById('bonusImage');
        const bonusTabs = document.querySelectorAll('.bonus-tab');
        const bonusTabContents = document.querySelectorAll('.bonus-tab-content');
        const bonusCardButton = document.getElementById('bonusCardButton');
        const useBonusCardInOrder = document.getElementById('useBonusCardInOrder');
        const bonusBalanceDisplay = document.getElementById('bonusBalanceDisplay');
        const bonusBalanceInfo = document.getElementById('bonusBalanceInfo');
        const bonusWarning = document.getElementById('bonusWarning');
        const bonusEarnedInfo = document.getElementById('bonusEarnedInfo');
        const bonusEarned = document.getElementById('bonusEarned');
        const bonusSpentInfo = document.getElementById('bonusSpentInfo');
        const bonusSpent = document.getElementById('bonusSpent');

        // –≠–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–æ–≤
        const ordersContainer = document.getElementById('ordersContainer');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª–∫–∏ –æ—Ü–µ–Ω–∫–∏
        const ratingModalOverlay = document.getElementById('ratingModalOverlay');
        const closeRatingModal = document.getElementById('closeRatingModal');
        const ratingStars = document.querySelectorAll('.rating-star');
        const selectedRatingInput = document.getElementById('selectedRating');
        const ratingOrderIdInput = document.getElementById('ratingOrderId');
        const submitRatingBtn = document.getElementById('submitRating');

        // ========== –î–ê–ù–ù–´–ï –ú–ï–ù–Æ ==========
        const menuData = {
            shashlik: [ { id: 2, name: "–®–∞—à–ª—ã–∫ –∏–∑ –∫—É—Ä–∏—Ü—ã", description: "–°–æ—á–Ω—ã–µ –∫—É—Ä–∏–Ω—ã–µ –±–µ–¥—Ä–∞ –Ω–∞ –º–∞–Ω–≥–∞–ª–µ", price: 280, image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600&h=400&fit=crop" }, { id: 3, name: "–õ—é–ª—è-–∫–µ–±–∞–± –∏–∑ –±–∞—Ä–∞–Ω–∏–Ω—ã", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –∫–∞–≤–∫–∞–∑—Å–∫–∏–π –ª—é–ª—è-–∫–µ–±–∞–±", price: 420, image: "https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=600&h=400&fit=crop" }, { id: 4, name: "–®–∞—à–ª—ã–∫ –∏–∑ –≥–æ–≤—è–¥–∏–Ω—ã", description: "–ü—Ä—è–Ω–∞—è –≥–æ–≤—è–¥–∏–Ω–∞ –Ω–∞ —É–≥–ª—è—Ö", price: 380, image: "https://images.unsplash.com/photo-1544025162-d76694265947?w=600&h=400&fit=crop" }, { id: 18, name: "–õ–∞–≤–∞—à", description: "–°–≤–µ–∂–∏–π —Ç–æ–Ω–∫–∏–π –ª–∞–≤–∞—à –¥–ª—è —à–∞—à–ª—ã–∫–∞", price: 80, image: "https://images.unsplash.com/photo-1641664734521-78b8c8f5e9b2?w=600&h=400&fit=crop" } ],
            asia: [ { id: 30, name: "–ë–µ—à–±–∞—Ä–º–∞–∫", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–µ –∫–∞–∑–∞—Ö—Å–∫–æ–µ –±–ª—é–¥–æ –∏–∑ –º—è—Å–∞ –∏ —Ç–µ—Å—Ç–∞", price: 450, image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=600&h=400&fit=crop" }, { id: 31, name: "–ë–∞—É—Ä—Å–∞–∫–∏ (3 —à—Ç—É–∫–∏)", description: "–ü—ã—à–Ω—ã–µ –∂–∞—Ä–µ–Ω—ã–µ –ø–æ–Ω—á–∏–∫–∏ –ø–æ-–∫–∞–∑–∞—Ö—Å–∫–∏", price: 120, image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600&h=400&fit=crop" }, { id: 32, name: "–ü–ª–æ–≤ –ø–æ-—É–∑–±–µ–∫—Å–∫–∏", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —É–∑–±–µ–∫—Å–∫–∏–π –ø–ª–æ–≤ —Å –±–∞—Ä–∞–Ω–∏–Ω–æ–π", price: 380, image: "https://images.unsplash.com/photo-1563379926898-05f4575a45d8?w=600&h=400&fit=crop&auto=format" }, { id: 33, name: "–ö—É–º—ã—Å", description: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –∫–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫", price: 150, image: "https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?w=600&h=400&fit=crop" }, { id: 34, name: "–≠—á–ø–æ—á–º–∞–∫–∏ (3 —à—Ç—É–∫–∏)", description: "–¢–∞—Ç–∞—Ä—Å–∫–∏–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω—ã–µ –ø–∏—Ä–æ–∂–∫–∏ —Å –º—è—Å–æ–º", price: 180, image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop" }, { id: 35, name: "–ß–∞–∫-—á–∞–∫", description: "–í–æ—Å—Ç–æ—á–Ω–∞—è —Å–ª–∞–¥–æ—Å—Ç—å –∏–∑ —Ç–µ—Å—Ç–∞ —Å –º–µ–¥–æ–º", price: 200, image: "https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?w=600&h=400&fit=crop" } ],
            sauces: [ { id: 16, name: "–°—ã—Ä–Ω—ã–π —Å–æ—É—Å", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —Å–ª–∏–≤–æ—á–Ω–æ-—Å—ã—Ä–Ω—ã–π —Å–æ—É—Å —Å —Ç—Ä–∞–≤–∞–º–∏", price: 95, image: "https://images.unsplash.com/photo-1563379926898-05f4575a45d8?w=600&h=400&fit=crop&auto=format" }, { id: 17, name: "–ö–µ—Ç—á—É–ø –¥–æ–º–∞—à–Ω–∏–π", description: "–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Ç–æ–º–∞—Ç–Ω—ã–π –∫–µ—Ç—á—É–ø —Å –ø—Ä—è–Ω–æ—Å—Ç—è–º–∏", price: 65, image: "https://images.unsplash.com/photo-1576193492451-bc6d703a5b3b?w=600&h=400&fit=crop&auto=format" }, { id: 19, name: "–ß–µ—Å–Ω–æ—á–Ω—ã–π —Å–æ—É—Å", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ —á–µ—Å–Ω–æ–∫–∞ –∏ —Å–º–µ—Ç–∞–Ω—ã", price: 75, image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=600&h=400&fit=crop" } ],
            drinks: [ { id: 11, name: "–õ–∏–º–æ–Ω–∞–¥ –¥–æ–º–∞—à–Ω–∏–π", description: "–û—Å–≤–µ–∂–∞—é—â–∏–π –ª–∏–º–æ–Ω–∞–¥ —Å –º—è—Ç–æ–π –∏ –ª–∏–º–æ–Ω–æ–º", price: 120, image: "https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?w=600&h=400&fit=crop" }, { id: 14, name: "–ß–∞–π —á–µ—Ä–Ω—ã–π", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —á–µ—Ä–Ω—ã–π —á–∞–π —Å —Ç—Ä–∞–≤–∞–º–∏", price: 70, image: "https://images.unsplash.com/photo-1568649929103-28ffbefaca1e?w=600&h=400&fit=crop&auto=format" }, { id: 15, name: "–ö–æ—Ñ–µ –ø–æ-–≤–æ—Å—Ç–æ—á–Ω–æ–º—É", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π –∫–æ—Ñ–µ —Å –∫–∞—Ä–¥–∞–º–æ–Ω–æ–º", price: 150, image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600&h=400&fit=crop" }, { id: 20, name: "–ß–∞–π —Å –ª–∏–º–æ–Ω–æ–º", description: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —á–∞–π —Å –¥–æ–ª—å–∫–æ–π –ª–∏–º–æ–Ω–∞", price: 85, image: "https://images.unsplash.com/photo-1567337560842-9d2d11f9b1b7?w=600&h=400&fit=crop" }, { id: 21, name: "–ó–µ–ª—ë–Ω—ã–π —á–∞–π", description: "–û—Å–≤–µ–∂–∞—é—â–∏–π –∑–µ–ª–µ–Ω—ã–π —á–∞–π —Å –∂–∞—Å–º–∏–Ω–æ–º", price: 90, image: "https://images.unsplash.com/photo-1561047029-3000c68339ca?w=600&h=400&fit=crop" } ]
        };

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        setTimeout(() => loadingScreen.classList.add('hidden'), 1000);

        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ–Ω—é
        for (const cat in menuData) {
            const grid = document.getElementById(`${cat}Grid`);
            menuData[cat].forEach(item => {
                const div = document.createElement('div');
                div.className = 'menu-item';
                div.innerHTML = `<div class="item-image"><img src="${item.image}" alt="${item.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmNjZDk3Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIyNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzVjM2QxZSI+U2hhc2hseWs8L3RleHQ+PC9zdmc+';"></div><div class="item-info"><h3 class="item-name">${item.name}</h3><p class="item-description">${item.description}</p><div class="item-footer"><div class="item-price">${item.price} ‚ÇΩ</div><button class="add-to-cart" data-id="${item.id}">–î–æ–±–∞–≤–∏—Ç—å</button></div></div>`;
                grid.appendChild(div);
            });
        }

        // –ö–∞—Ä—É—Å–µ–ª—å
        const carouselTrack = document.getElementById('carouselTrack');
        const slides = document.querySelectorAll('.carousel-slide');
        let currentSlide = 0, slideInterval;
        function showSlide(index) { currentSlide = index; carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`; }
        function nextSlide() { showSlide((currentSlide + 1) % slides.length); }
        function startAutoSlide() { clearInterval(slideInterval); slideInterval = setInterval(nextSlide, 5000); }
        startAutoSlide();
        document.getElementById('carouselContainer').addEventListener('mouseenter', () => clearInterval(slideInterval));
        document.getElementById('carouselContainer').addEventListener('mouseleave', startAutoSlide);
        slides[1]?.querySelector('img')?.addEventListener('click', () => { closeMorePanel(); openMorePanel(); showBonusInMore(); });

        // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–µ–Ω—é
        document.querySelectorAll('.category-btn').forEach(btn => btn.addEventListener('click', function() {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            document.querySelectorAll('.menu-section').forEach(s => s.classList.remove('active'));
            document.getElementById(this.dataset.category).classList.add('active');
        }));

        // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–¢–†–ê–ù–ò–¶–ê–ú–ò ==========
        function switchPage(pageId) {
            currentPage = pageId;
            pages.forEach(p => p.classList.remove('active'));
            document.getElementById(`${pageId}-page`).classList.add('active');
            navItems.forEach(item => {
                item.classList.toggle('active', item.dataset.page === pageId);
            });
            if (pageId === 'cart') renderCartPage();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const page = item.dataset.page;
                if (page === 'more') {
                    openMorePanel();
                } else {
                    switchPage(page);
                }
            });
        });

        // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –û–ö–ù–û–ú "–ï–©–Å" ==========
        function openMorePanel() {
            moreOverlay.classList.add('active');
            morePanel.classList.add('active');
            document.body.style.overflow = 'hidden';
            showMoreMainMenu();
        }
        function closeMorePanel() {
            moreOverlay.classList.remove('active');
            morePanel.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        function showMoreMainMenu() {
            moreMainMenu.classList.remove('hidden');
            moreBonusPanel.classList.remove('active');
            moreOrdersPanel.classList.remove('active');
            moreAnnouncementPanel.classList.remove('active');
            moreFeedbackPanel.classList.remove('active');
            moreBackBtn.classList.remove('visible');
            morePanelTitle.textContent = '–ï—â—ë';
        }
        function showBonusInMore() {
            moreMainMenu.classList.add('hidden');
            moreBonusPanel.classList.add('active');
            moreOrdersPanel.classList.remove('active');
            moreAnnouncementPanel.classList.remove('active');
            moreFeedbackPanel.classList.remove('active');
            moreBackBtn.classList.add('visible');
            morePanelTitle.textContent = '–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞';
            loadBonusCardFromStorage();
            updateBonusDisplay();
        }
        function showOrdersInMore() {
            moreMainMenu.classList.add('hidden');
            moreOrdersPanel.classList.add('active');
            moreBonusPanel.classList.remove('active');
            moreAnnouncementPanel.classList.remove('active');
            moreFeedbackPanel.classList.remove('active');
            moreBackBtn.classList.add('visible');
            morePanelTitle.textContent = '–ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞–∫–∞–∑—ã';
            updateOrderStatuses();
            renderOrders();
        }
        function showAnnouncementInMore() {
            moreMainMenu.classList.add('hidden');
            moreAnnouncementPanel.classList.add('active');
            moreBonusPanel.classList.remove('active');
            moreOrdersPanel.classList.remove('active');
            moreFeedbackPanel.classList.remove('active');
            moreBackBtn.classList.add('visible');
            morePanelTitle.textContent = '–û–±—ä—è–≤–ª–µ–Ω–∏—è';
        }
        function showFeedbackInMore() {
            moreMainMenu.classList.add('hidden');
            moreFeedbackPanel.classList.add('active');
            moreBonusPanel.classList.remove('active');
            moreOrdersPanel.classList.remove('active');
            moreAnnouncementPanel.classList.remove('active');
            moreBackBtn.classList.add('visible');
            morePanelTitle.textContent = '–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å';
        }

        closeMore.addEventListener('click', closeMorePanel);
        moreOverlay.addEventListener('click', closeMorePanel);
        moreBackBtn.addEventListener('click', showMoreMainMenu);
        moreBonusBtn.addEventListener('click', showBonusInMore);
        moreOrdersBtn.addEventListener('click', showOrdersInMore);
        moreAnnouncementBtn.addEventListener('click', showAnnouncementInMore);
        moreFeedbackBtn.addEventListener('click', showFeedbackInMore);

        // ========== –ë–û–ù–£–°–ù–ê–Ø –ö–ê–†–¢–ê ==========
        function saveBonusCardToStorage() { if (bonusCard) localStorage.setItem('ahmedBonusCard_' + userId, JSON.stringify(bonusCard)); else localStorage.removeItem('ahmedBonusCard_' + userId); }
        function loadBonusCardFromStorage() { const saved = localStorage.getItem('ahmedBonusCard_' + userId); if (saved) bonusCard = JSON.parse(saved); }
        function addBonusPoints(points) { if (!bonusCard) return false; bonusCard.balance += points; saveBonusCardToStorage(); updateBonusDisplay(); return true; }
        function deductBonusPoints(points) { if (!bonusCard || bonusCard.balance < points) return false; bonusCard.balance -= points; if (bonusCard.firstUse) bonusCard.firstUse = false; saveBonusCardToStorage(); updateBonusDisplay(); return true; }

        function updateBonusDisplay() {
            if (!bonusBalanceContainer) return;
            if (bonusCard) {
                bonusBalanceContainer.innerHTML = '';
                const positions = [ { top: '10%', left: '5%' }, { top: '5%', right: '10%' }, { bottom: '15%', left: '8%' }, { bottom: '5%', right: '15%' }];
                positions.forEach(pos => {
                    const img = document.createElement('img');
                    img.src = 'img/img/ahmedik.png';
                    img.className = 'ahmedik-img';
                    Object.assign(img.style, pos);
                    img.onerror = function() { this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2ZjY2Q5NyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM1YzNkMWUiPkFIPC90ZXh0Pjwvc3ZnPg=='; };
                    bonusBalanceContainer.appendChild(img);
                });
                const balanceDiv = document.createElement('div');
                balanceDiv.className = 'bonus-balance';
                balanceDiv.innerHTML = `<div class="bonus-card-number">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: ${bonusCard.cardNumber}</div><h3>–í–∞—à –±–∞–ª–∞–Ω—Å</h3><div class="bonus-balance-value"><span id="bonusBalanceValue">${bonusCard.balance}</span><span class="bonus-currency">–∞—Ö–º–µ–¥–∏–∫–æ–≤</span></div>`;
                bonusBalanceContainer.appendChild(balanceDiv);
                bonusBalanceDisplay.textContent = bonusCard.balance;
                bonusBalanceInfo.style.display = 'flex';
                bonusForm.classList.add('hidden');
            } else {
                bonusBalanceContainer.innerHTML = '<p style="text-align:center; padding:20px;">–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å.</p>';
                bonusForm.classList.remove('hidden');
                bonusBalanceInfo.style.display = 'none';
            }
        }

        activateBonusForm?.addEventListener('submit', function(e) {
            e.preventDefault();
            const fullName = document.getElementById('bonusFullName').value;
            const email = document.getElementById('bonusEmail').value;
            const cardNumber = document.getElementById('bonusCardNumber').value;
            if (cardNumber.length !== 8) { alert('–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–æ–≤–Ω–æ 8 —Ü–∏—Ñ—Ä'); return; }
            const savedBonusCards = JSON.parse(localStorage.getItem('ahmedBonusCards') || '[]');
            const existingCard = savedBonusCards.find(c => c.cardNumber === cardNumber);
            if (existingCard) {
                bonusCard = existingCard;
                alert(`–ö–∞—Ä—Ç–∞ ${cardNumber} —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞. –ë–∞–ª–∞–Ω—Å: ${bonusCard.balance} –∞—Ö–º–µ–¥–∏–∫–æ–≤`);
            } else {
                bonusCard = { id: 'bonus_' + Date.now(), fullName, email, cardNumber, balance: 0, firstUse: true, createdAt: new Date().getTime(), userId: userId };
                savedBonusCards.push(bonusCard);
                localStorage.setItem('ahmedBonusCards', JSON.stringify(savedBonusCards));
                alert('–ë–æ–Ω—É—Å–Ω–∞—è –∫–∞—Ä—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞!');
            }
            saveBonusCardToStorage();
            updateBonusDisplay();
        });

        bonusCardNumberInput?.addEventListener('input', function() { this.value = this.value.replace(/\D/g, '').slice(0, 8); });
        bonusTabs.forEach(tab => tab.addEventListener('click', function() {
            const tabId = this.dataset.tab;
            bonusTabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            bonusTabContents.forEach(c => c.classList.remove('active'));
            document.getElementById(tabId + 'Tab').classList.add('active');
        }));

        // ========== –ö–û–†–ó–ò–ù–ê ==========
        function addToCart(itemId) {
            let item = null;
            for (const cat in menuData) { const found = menuData[cat].find(i => i.id === itemId); if (found) { item = found; break; } }
            if (!item) return;
            const existing = cart.find(i => i.id === itemId);
            if (existing) existing.quantity += 1; else cart.push({ ...item, quantity: 1 });
            updateCart();
            notificationMessage.textContent = `${item.name} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É`;
            cartNotification.classList.add('show');
            setTimeout(() => cartNotification.classList.remove('show'), 2000);
        }
        document.addEventListener('click', (e) => { if (e.target.classList.contains('add-to-cart')) addToCart(parseInt(e.target.dataset.id)); });

        function updateCart() {
            const totalItems = cart.reduce((s, i) => s + i.quantity, 0);
            navCartCount.textContent = totalItems;
            renderCartPage();
            saveCartToStorage();
        }

        function renderCartPage() {
            if (!cartPageItems) return;
            if (cart.length === 0) {
                cartPageItems.innerHTML = '<p class="empty-cart-message">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                cartPageTotal.textContent = '0 ‚ÇΩ';
                cartPageOrderBtn.disabled = true;
                return;
            }
            cartPageItems.innerHTML = '';
            cart.forEach(item => {
                const div = document.createElement('div');
                div.className = 'cart-page-item';
                div.innerHTML = `<div><strong>${item.name}</strong> x${item.quantity}<br><small>${item.price} ‚ÇΩ/—à—Ç</small></div><div><strong>${item.price * item.quantity} ‚ÇΩ</strong></div>`;
                cartPageItems.appendChild(div);
            });
            const total = cart.reduce((s, i) => s + i.price * i.quantity, 0);
            cartPageTotal.textContent = `${total} ‚ÇΩ`;
            cartPageOrderBtn.disabled = false;
        }

        function saveCartToStorage() { localStorage.setItem('ahmedCart', JSON.stringify(cart)); }
        function loadCartFromStorage() { const saved = localStorage.getItem('ahmedCart'); if (saved) { cart = JSON.parse(saved); updateCart(); } }

        // ========== –ó–ê–ö–ê–ó–´ ==========
        function getNextOrderNumber() { return Math.max(orderNumber, (orders.filter(o => o.userId === userId).reduce((max, o) => Math.max(max, parseInt(o.id.replace('AHM-', ''))), 0)) + 1); }
        function createOrder(custData, cartItems, delType, addr, useBonus) {
            let total = cartItems.reduce((s, i) => s + i.price * i.quantity, 0);
            let bonusEarned = 0, bonusSpent = 0, bonusUsed = false;
            if (useBonus && bonusCard && total >= 500) {
                bonusUsed = true;
                total = Math.max(0, total - 1);
                bonusEarned = Math.floor(Math.random() * 3) + 2;
                addBonusPoints(bonusEarned);
                if (!bonusCard.firstUse && bonusCard.balance > 0) {
                    const maxDeduct = Math.min(bonusCard.balance, 5);
                    if (maxDeduct > 0) {
                        bonusSpent = Math.floor(Math.random() * maxDeduct) + 1;
                        bonusSpent = Math.min(bonusSpent, bonusCard.balance);
                        deductBonusPoints(bonusSpent);
                    }
                }
                if (bonusCard.firstUse) { bonusCard.firstUse = false; saveBonusCardToStorage(); }
            }
            const newOrderNumber = getNextOrderNumber();
            const order = {
                id: `AHM-${newOrderNumber.toString().padStart(3, '0')}`, userId, date: new Date().toLocaleDateString('ru-RU'),
                customerName: custData.name, customerEmail: custData.email,
                items: cartItems.map(i => ({ name: i.name, price: i.price, quantity: i.quantity })),
                total, deliveryType: delType, address: addr, status: 'ordered', statusChanged: new Date().getTime(),
                rating: null, bonusUsed, bonusEarned, bonusSpent, canBeReceived: delType === 'pickup'
            };
            orderNumber = newOrderNumber + 1;
            orders.unshift(order);
            saveOrdersToStorage();
            renderOrders();
            return order;
        }
        function saveOrdersToStorage() { localStorage.setItem('ahmedOrders', JSON.stringify(orders)); localStorage.setItem('ahmedOrderNumber', orderNumber.toString()); }
        function loadOrdersFromStorage() { 
            const savedOrders = localStorage.getItem('ahmedOrders');
            const savedNum = localStorage.getItem('ahmedOrderNumber');
            if (savedOrders) { orders = JSON.parse(savedOrders); updateOrderStatuses(); renderOrders(); }
            if (savedNum) orderNumber = parseInt(savedNum);
        }
        function updateOrderStatuses() {
            const now = new Date().getTime();
            const five = 5 * 60 * 1000, ten = 10 * 60 * 1000, fifteen = 15 * 60 * 1000;
            orders.forEach(o => {
                if (o.status === 'completed') return;
                const timePassed = now - o.statusChanged;
                if (o.status === 'ordered' && timePassed > five) { o.status = 'cooking'; o.statusChanged = now; }
                else if (o.status === 'cooking' && timePassed > ten) { o.status = o.deliveryType === 'delivery' ? 'delivery' : 'ready'; o.statusChanged = now; }
                else if (o.status === 'delivery' && timePassed > fifteen) { o.status = 'ready'; o.statusChanged = now; }
            });
            saveOrdersToStorage();
            renderOrders();
        }
        function renderOrders() {
            if (!ordersContainer) return;
            const userOrders = orders.filter(o => o.userId === userId);
            if (userOrders.length === 0) { ordersContainer.innerHTML = '<p class="no-orders">–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>'; return; }
            ordersContainer.innerHTML = '';
            userOrders.forEach(order => {
                const card = document.createElement('div');
                card.className = `order-card ${order.status === 'completed' ? 'completed' : ''}`;
                let itemsHtml = order.items.map(i => `<div class="order-item"><div>${i.name} x${i.quantity}</div><div class="item-total">${i.price * i.quantity} ‚ÇΩ</div></div>`).join('');
                let bonusHtml = order.bonusUsed ? `<div style="margin-top:10px; font-size:0.9rem; background:#f0f0f0; padding:8px; border-radius:8px;"><i class="fas fa-percent"></i> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∫–∞—Ä—Ç–∞${order.bonusEarned ? `<br>‚ûï –ù–∞—á–∏—Å–ª–µ–Ω–æ: ${order.bonusEarned}` : ''}${order.bonusSpent ? `<br>‚ûñ –°–ø–∏—Å–∞–Ω–æ: ${order.bonusSpent}` : ''}</div>` : '';
                let qrHtml = (order.status === 'ready' && order.deliveryType === 'pickup' && order.status !== 'completed') ? `<div class="qr-code-container show"><img src="img/img/qr-code.png" class="qr-code-image" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmNjZDk3Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0iIzVjM2QxZSI+UVItQ09ERTwvdGV4dD48L3N2Zz4+';"></div>` : '';
                let receivedBtnHtml = (order.status === 'ready' && order.status !== 'completed') ? `<button class="received-btn" data-order-id="${order.id}">${order.deliveryType === 'delivery' ? '–ó–ê–ö–ê–ó –ü–û–õ–£–ß–ï–ù' : '–£–ñ–ï –ó–ê–ë–†–ê–õ'}</button>` : '';
                let deleteBtnHtml = order.status === 'completed' ? `<button class="delete-order-btn" data-order-id="${order.id}"><i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑</button>` : '';
                let statusText = {ordered:'–æ—Ñ–æ—Ä–º–ª–µ–Ω',cooking:'–≥–æ—Ç–æ–≤–∫–∞',delivery:'–¥–æ—Å—Ç–∞–≤–∫–∞',ready:'–∂–¥–µ—Ç –≤–∞—Å',completed:'–ø–æ–ª—É—á–µ–Ω'}[order.status] || order.status;
                card.innerHTML = `<div class="order-header"><div><div class="order-number">–ó–∞–∫–∞–∑ ${order.id}</div><div class="order-date">${order.date}</div></div><div class="order-status status-${order.status}">${statusText}</div></div><div class="order-items">${itemsHtml}</div>${bonusHtml}<div class="order-footer"><div class="order-total">${order.total} ‚ÇΩ</div><div class="order-type">${order.deliveryType === 'delivery' ? '–î–æ—Å—Ç–∞–≤–∫–∞' : '–°–∞–º–æ–≤—ã–≤–æ–∑'}</div></div>${qrHtml}${receivedBtnHtml}${deleteBtnHtml}`;
                ordersContainer.appendChild(card);
            });
        }

        // ========== –û–¶–ï–ù–ö–ê –ó–ê–ö–ê–ó–ê ==========
        let selectedRating = 0;
        function updateStarsDisplay(r) { ratingStars.forEach(s => { let sr = parseInt(s.dataset.rating); s.style.color = sr <= r ? '#ffc107' : '#ddd'; }); }
        ratingStars.forEach(s => s.addEventListener('click', function() { selectedRating = parseInt(this.dataset.rating); selectedRatingInput.value = selectedRating; updateStarsDisplay(selectedRating); }));
        function openRatingModal(orderId) { ratingOrderIdInput.value = orderId; selectedRating = 0; updateStarsDisplay(0); ratingModalOverlay.classList.add('active'); document.body.style.overflow = 'hidden'; }
        function closeRatingModalFunc() { ratingModalOverlay.classList.remove('active'); document.body.style.overflow = 'auto'; }
        closeRatingModal.addEventListener('click', closeRatingModalFunc);
        ratingModalOverlay.addEventListener('click', (e) => { if (e.target === ratingModalOverlay) closeRatingModalFunc(); });
        submitRatingBtn.addEventListener('click', () => {
            const orderId = ratingOrderIdInput.value;
            if (selectedRating === 0) { alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É'); return; }
            const idx = orders.findIndex(o => o.id === orderId);
            if (idx !== -1) { orders[idx].status = 'completed'; orders[idx].rating = selectedRating; orders[idx].completedAt = new Date().getTime(); saveOrdersToStorage(); renderOrders(); alert(`–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ü–µ–Ω–∫—É: ${selectedRating} –∑–≤–µ–∑–¥!`); }
            closeRatingModalFunc();
        });

        // ========== –û–§–û–†–ú–õ–ï–ù–ò–ï –ó–ê–ö–ê–ó–ê ==========
        cartPageOrderBtn?.addEventListener('click', () => {
            if (cart.length === 0) return;
            orderModal.style.opacity = '1';
            orderModal.style.visibility = 'visible';
            document.body.style.overflow = 'hidden';
            orderForm.reset();
            orderForm.style.display = 'block';
            orderSuccess.style.display = 'none';
            deliveryAddressGroup.classList.remove('visible');
            deliveryAddressInput.removeAttribute('required');
            document.getElementById('pickup').checked = true;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã (—á–µ–∫–±–æ–∫—Å –∏ –∫–ª–∞—Å—Å)
            useBonusCardInOrder.checked = false;
            bonusCardButton.classList.remove('active');
            
            if (bonusCard) {
                bonusBalanceDisplay.textContent = bonusCard.balance;
                const total = cart.reduce((s,i) => s + i.price * i.quantity, 0);
                if (total < 500) { 
                    bonusWarning.style.display = 'block'; 
                    bonusCardButton.classList.add('bonus-card-disabled'); 
                } else { 
                    bonusWarning.style.display = 'none'; 
                    bonusCardButton.classList.remove('bonus-card-disabled'); 
                }
            } else { 
                bonusCardButton.style.display = 'none'; 
                bonusBalanceInfo.style.display = 'none'; 
                bonusWarning.style.display = 'none'; 
            }
            bonusEarnedInfo.style.display = 'none'; 
            bonusSpentInfo.style.display = 'none';
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
        bonusCardButton.addEventListener('click', function() {
            if (!bonusCard) {
                alert('–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –±–æ–Ω—É—Å–Ω–æ–π –∫–∞—Ä—Ç—ã. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ—ë –≤ —Ä–∞–∑–¥–µ–ª–µ "–ï—â—ë"');
                return;
            }
            
            const total = cart.reduce((s,i) => s + i.price * i.quantity, 0);
            if (total < 500) {
                alert('–ë–æ–Ω—É—Å–Ω—É—é –∫–∞—Ä—Ç—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∑–∞–∫–∞–∑–∞—Ö –æ—Ç 500 —Ä—É–±–ª–µ–π');
                return;
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–ª–∞—Å—Å active –∏ —á–µ–∫–±–æ–∫—Å
            this.classList.toggle('active');
            useBonusCardInOrder.checked = this.classList.contains('active');
        });
        
        closeModal.addEventListener('click', () => { orderModal.style.opacity = '0'; orderModal.style.visibility = 'hidden'; document.body.style.overflow = 'auto'; });
        orderModal.addEventListener('click', (e) => { if (e.target === orderModal) { orderModal.style.opacity = '0'; orderModal.style.visibility = 'hidden'; document.body.style.overflow = 'auto'; } });
        deliveryTypeRadios.forEach(r => r.addEventListener('change', function() {
            if (this.value === 'delivery') { deliveryAddressGroup.classList.add('visible'); deliveryAddressInput.setAttribute('required', 'required'); } 
            else { deliveryAddressGroup.classList.remove('visible'); deliveryAddressInput.removeAttribute('required'); }
        }));
        orderForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('customerName').value;
            const email = document.getElementById('customerEmail').value;
            const delType = document.querySelector('input[name="deliveryType"]:checked').value;
            const addr = delType === 'delivery' ? document.getElementById('customerAddress').value : null;
            const useBonus = useBonusCardInOrder.checked;
            const total = cart.reduce((s,i) => s + i.price * i.quantity, 0);
            if (useBonus && total < 500) { alert('–ë–æ–Ω—É—Å–Ω—É—é –∫–∞—Ä—Ç—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∑–∞–∫–∞–∑–∞—Ö –æ—Ç 500 —Ä—É–±–ª–µ–π'); return; }
            const newOrder = createOrder({ name, email }, cart, delType, addr, useBonus);
            orderNumberElement.textContent = newOrder.id;
            if (newOrder.bonusUsed) {
                if (newOrder.bonusEarned > 0) { bonusEarned.textContent = newOrder.bonusEarned; bonusEarnedInfo.style.display = 'block'; }
                if (newOrder.bonusSpent > 0) { bonusSpent.textContent = newOrder.bonusSpent; bonusSpentInfo.style.display = 'block'; }
            }
            orderForm.style.display = 'none';
            orderSuccess.style.display = 'block';
            setTimeout(() => {
                cart = []; updateCart(); orderModal.style.opacity = '0'; orderModal.style.visibility = 'hidden'; document.body.style.overflow = 'auto';
                switchPage('home');
                setTimeout(() => { openMorePanel(); showOrdersInMore(); }, 300);
            }, 2000);
        });

        // ========== –ö–ù–û–ü–ö–ê –ù–ê–í–ï–†–• ==========
        window.addEventListener('scroll', () => scrollToTopBtn.classList.toggle('visible', window.scrollY > 300));
        scrollToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // ========== –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ==========
        loadCartFromStorage();
        loadOrdersFromStorage();
        loadBonusCardFromStorage();
        updateBonusDisplay();
        setInterval(updateOrderStatuses, 60000);
        switchPage('home');

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è/–ø–æ–ª—É—á–µ–Ω–∏—è
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('received-btn') && e.target.id !== 'submitRating') {
                openRatingModal(e.target.dataset.orderId);
            }
            if (e.target.classList.contains('delete-order-btn')) {
                if (confirm('–£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑?')) {
                    const idx = orders.findIndex(o => o.id === e.target.dataset.orderId);
                    if (idx !== -1) orders.splice(idx, 1);
                    saveOrdersToStorage();
                    renderOrders();
                }
            }
        });
    </script>
</body>
</html>